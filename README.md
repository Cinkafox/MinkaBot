# Minkabot

### И так,этот бот был написан на замену боту прошлому,так как прошлым был говном.

# Функции

Он может быть чат ботом,поддерживаются команды как:
`кто *ник*` - бот выводит всякую хуйню по типу:*ник* бухающий единорог
`кто я` - так же но ток кто ты
`инфа что *что-то*` - выводит насколько возможна эта ситуация в процентах
`выбери *это* или *сето*` или ..и так далее - выберит одну штуку
`правда что *что-то*` - выводит правда или нет

Так же он может строить арты в креативе!
И схематики так же (но пока не так хорошо)
Есть возможность скачивать схемы!
Все схемы сохраняются в папке schematics

`арт *название*` - строит арты
`строй *название*` - строит схематику
`схема список` - выводит список схемы
`схема скачать *имя* *ссылка*` - скачивает схему

Недостаточно функции? НАПИШИ САМ ЕЙ БОГУ!

# А как с ним общатся то?
все просто! `*Ник* *команда*`
# Плагины!
Все это плагины! Они хранятся в папке plugins
вот простенький плагин для примера:
```js
const PluginManager = require("../libs/PluginManager");

PluginManager.add("привет",(args,bot)=>{
	bot.chat("Hello!")	
});
```
Не понятно? Взглянем повнимательнее

PluginManager -о названию понятно что менеджер плагинов для бота
PluginManager.add("привет!",(args,bot)=>{ - добавление команды
args - аргументы и сам чат
bot - объект mineflayer.bot читайте доки https://github.com/PrismarineJS/mineflayer
bot.chat("Hello!") - вывод в чат!

файл сохраняется в папку plugins
АХ ДА!!! ЭТО НЕ ПЛАГИН ДЛЯ MINEFLAYER!!!!

тот файл можно создать быстро с помощью cp.js
node cp *название*

и перед тем как пользоватся плагином нужно добавить права в permission.json(если ручками,а так cp.js сам добавит вам права)

# Config
перед запуском настройте бота в config.json
```json
{
    "bot":{
        "username":"Nick",
        "host":"ip",
        "port":25565,
        "version":"1.13.2"    
    }
}
```

вместо Nick ник и ip айпишник вашего сервера

ах да! если бот на сервере впервые вам нужно настроить CustomJoin сервера (об этом чуть позже)

# CustomJoins
эта фича позволяет не переписывать основной код для каждого сервера,что позволяет использовать бота хоть тама и тама
Они хранятся в папке CustomJoins.выглядить как:"айпи-сервера.ru.js".
При заходе впервые бот создаст файл в CustomJoins.Вам нужно его настроить.
```js script
const bdj = require("../libs/bdj");
const {Vec3} = require("vec3");
const regex = /«(?<G>.*)» \| (.(.*?).){0,1} .(.*?). (?<Nick>.*?) ➥ (?<Chat>.*)|\[.*? (?<NickL>.*?) -> я\] (?<ChatL>.*)/gm; //РЕДЖЕКС ДЛЯ ПАРСИНГА ЧАТА!
let global = "Ⓖ";//Значок глобального чата

function preInit(bot,success){
    const action = [{message:">> Ожидайте завершения проверки...",action:"rec"},{message:"Авторизация | Войдите в игру, введя пароль /login",action:()=>{bot.chat("/l 12341")}}];
    bdj.check(bot,action);
    
    //действия бота!
    bot.once("message",() => {
        bot.setControlState('forward',true);
        bot.lookAt(new Vec3(-4,139,-15));
            setTimeout(() => {
                bot.setControlState('forward', false);
                success();
            },6000);
    });

}

module.exports = {regex,preInit,global} 
```
Понимаю! ХУЕТА ТА ЕЩЕ СЛОЖНАЯ но зато настроя вы получите много чего!


# Допустим бот зашел,что дальше?
Проверьте бота с помощью `*Nick* кто я`
если прочел и вывел что то то ПОЗДРАВЛЯЮ! ЗАРАБОТАЛО!

# Но для некоторых штук нужны права бота,а как получить?
Введите на сервере `*Nick* код получить`,в консоли выведется код. 
Затем введите на сервере `*Nick* код *код*`
И на ваш ник выдастся полное право бота

# Насчет прав
все права находятся в permission.json
```json
{
  "groups": {
    "nil": {
      "perms": []
    },
    "users": {
      "parent": "",
      "perms": [
        "кто",
        "инфа",
        "выбери",
        "помощь",
        "правда",
        "код"
      ]
    },
    "op": {
      "parent": "users",
      "perms": [
        "права",
        "арт",
        "реши",
        "схема",
        "карты",
        "напиши",
        "тп",
        "строй",
        "секс"
      ]
    }
  },
  "users": {
    "default": {
      "group": "users",
      "perms": []
    },
    "Nick": {
      "group": "op",
      "perms": [
        "блокировать",
        "ищейка"
      ]
    }
  }
}

```
```
в group:
    users - то что всем дано!
    op - это вам или вашим друзьям
```
```
в users:
    Nick - ваш ник (их может быть несколько если решили друзей добавить)
    default - все те кого нету в users
```
# Добавление прав прямо в игре!
Это возможно с помощью "права"
`Nick права`
у этой команды есть следущие подкоманнды:
`игрок` `группа`
у них есть еще подкоманды:
`список-список игроков в файле.`
`удалить - удаляет игрока или группу из файла,1 аргумент ник или группа`
Если игрок 
`добавить-добавить игрока в файл.1 аргумент ник(себя=твой ник).2 права(['biba','boba']),3 группа (см группа список)`
Если группа
`добавить-добавить группу в файл.1 аргумент название.2 права(['biba','boba']),3 родитель (см группа список)`

# Насчет артов
Схема арта нужно скачивать с https://www.blankstare.net
Потом же скопировать section.x.y.schematic с https://www.blankstare.net/mapconverter/uploaded/*номера*/schematic/ ,появится после загрузки 
Но перед загрузкой фото нужно вырезать на 128 128 пикселей
